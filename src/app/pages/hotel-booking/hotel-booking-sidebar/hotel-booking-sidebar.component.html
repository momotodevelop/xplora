<div class="ml-80 lg:ml-40 md:ml-0">
    <div class="px-30 py-30 border-light rounded-4">
        <div class="text-20 fw-500 mb-30">Resumen de tu reservación</div>
        <div class="row x-gap-15 y-gap-20">
            <div class="col-auto">
            <img src="{{hotel.image}}" alt="image" class="size-140 rounded-4 object-cover">
            </div>

            <div class="col">
            <div class="d-flex x-gap-5 pb-10">
                @if(hotel.stars>0){
                    <i class="icon-star text-yellow-1 text-10"></i>
                }
                @if(hotel.stars>1){
                    <i class="icon-star text-yellow-1 text-10"></i>
                }
                @if(hotel.stars>2){
                    <i class="icon-star text-yellow-1 text-10"></i>
                }
                @if(hotel.stars>3){
                    <i class="icon-star text-yellow-1 text-10"></i>
                }
                @if(hotel.stars>4){
                    <i class="icon-star text-yellow-1 text-10"></i>
                }
            </div>

            <div class="lh-17 fw-500">{{hotel.name}}</div>
            <div class="text-14 lh-15 mt-5">{{hotel.address}}</div>
            @if(hotel.ratingCount>0){
                <div class="row x-gap-10 y-gap-10 items-center pt-10">
                    <div class="col-auto">
                    <div class="d-flex items-center">
                        <div class="size-30 flex-center bg-blue-1 rounded-4">
                            <div class="text-12 fw-600 text-white">{{hotel.rating}}</div>
                        </div>
                        <div class="text-14 fw-500 ml-10">{{hotelHandler.getRatingDescription(hotel.rating)}}</div>
                    </div>
                    </div>
    
                    <div class="col-auto">
                    <div class="text-14">{{hotel.ratingCount|number}} opiniones</div>
                    </div>
                </div>
            }
            </div>
        </div>
        <div class="border-top-light mt-30 mb-20"></div>
        <div class="row y-gap-20 justify-between">
            <div class="col-auto">
            <div class="text-15">Entrada</div>
            <div class="fw-500">{{dates[0]|date:'mediumDate'}}</div>
            <div class="text-15 text-light-1">03:00 P.M.</div>
            </div>

            <div class="col-auto md:d-none">
            <div class="h-full w-1 bg-border"></div>
            </div>

            <div class="col-auto text-right md:text-left">
            <div class="text-15">Salida</div>
            <div class="fw-500">{{dates[1]|date:'mediumDate'}}</div>
            <div class="text-15 text-light-1">12:00 P.M.</div>
            </div>
        </div>
        <div class="border-top-light mt-30 mb-20"></div>
        <div class="">
            <div class="text-15">Duración total de la estancia:</div>
            <div class="fw-500">{{dN.d}} días, {{dN.n}} {{dN.n===1?'noche':'noches'}}</div>
            <a href="#" class="text-15 text-blue-1 underline">Travelling on different dates?</a>
        </div>
        <div class="border-top-light mt-30 mb-20"></div>
        <div class="row y-gap-20 justify-between items-center">
            <div class="col-auto">
                <div class="text-15">Has seleccionado:</div>
                <div class="fw-500">{{charges[0].description}}</div>
                <a href="#" class="text-15 text-blue-1 underline">Cambiar selección</a>
            </div>
        </div>
    </div>
    <div class="px-30 py-30 border-light rounded-4 mt-30">
        <div class="text-20 fw-500 mb-20">Resumen de tu tarifa</div>
        @for(charge of charges; track $index){
            <div class="row y-gap-5 mt-10">
                <div class="col-8 d-flex items-center" style="flex-direction: column;">
                    <div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" class="text-15 lh-13 w-100">{{charge.description}}</div>
                    <div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" class="text-13 lh-11 text-light-1 w-100">{{charge.secondLine}}</div>
                    <div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" class="text-13 lh-11 text-light-1 w-100">{{charge.thirdLine}}</div>
                </div>
                <div class="col-4 d-flex items-center justify-end">
                    <div class="text-15 lh-13">{{charge.total|currency:'MXN'}}</div>
                </div>
            </div>
        }
        <div class="px-20 py-20 bg-blue-2 rounded-4 mt-20">
            <div class="row y-gap-5 justify-between">
            <div class="col-auto">
                <div class="text-18 lh-13 fw-500">Total a pagar</div>
            </div>
            <div class="col-auto">
                <div class="text-18 lh-13 fw-500">{{total|currency:'MXN'}}</div>
            </div>
            </div>
        </div>
    </div>
    <div class="px-30 py-30 border-light rounded-4 mt-30">
        <div class="text-20 fw-500 mb-20">Tu calendario de pagos</div>
        <div class="row y-gap-5 justify-between">
            <div class="col-auto">
                @if(paymentType==='NOW'){
                    <div class="text-15">Pagarás antes de tu estancia</div>
                }@else{
                    <div class="text-15">Pagarás al check-in</div>
                }
            </div>
            <div class="col-auto">
                <div class="text-15">{{total|currency:'MXN'}}</div>
            </div>
        </div>
    </div>  
    @if(promo){
        <div class="px-30 py-30 border-light rounded-4 mt-30">
            <div class="text-20 fw-500 mb-20">Tu código promocional</div>
            <div class="row y-gap-5 justify-between">
                <div class="col-auto">
                    <div class="text-15">{{promo.code|uppercase}}</div>
                </div>
                <div class="col-auto">
                    @if(promo.discountType==="percentage"){
                        <div class="text-15">-{{promo.discountAmount}}%</div>
                    }@else{
                        <div class="text-15">-{{promo.discountAmount|currency:'MXN'}}</div>
                    }
                </div>
            </div>
            <div class="mt-10">
                <div class="text-15 fw-500">Descripción:</div>
                <div class="text-14">{{promo.description}}</div>
            </div>
            <div class="mt-10">
                <div class="text-15 fw-500">Términos y condiciones:</div>
                <div class="text-14">{{promo.tyc}}</div>
            </div>
            <button class="button -outline-red-1 text-red-1 px-30 py-15 mt-20">Desactivar</button>
        </div>
    }@else{
        <div class="px-30 py-30 border-light rounded-4 mt-30">
            <div class="text-20 fw-500 mb-15">¿Tienes un código promocional?</div>
            <mat-form-field appearance="outline" subscriptSizing="dynamic" class="w-100">
                <mat-label>Código promocional</mat-label>
                <input [formControl]="promoInput" uppercase matInput placeholder="Ingresa tu código">
            </mat-form-field>
            <button (click)="verify()" class="button -outline-blue-1 text-blue-1 px-30 py-15 mt-20">Aplicar</button>
        </div>
    }
</div>