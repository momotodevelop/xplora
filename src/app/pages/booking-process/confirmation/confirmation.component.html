@if(booking!==undefined){
    <div class="container mt-40">
        <div class="row">
            <div class="col-xl-7 col-lg-8">
                <div class="d-flex flex-column items-center mt-60 lg:md-40 sm:mt-24">
                    <div class="size-80 flex-center rounded-full bg-dark-3">
                        @if(booking.status==="CONFIRMED"){
                            <i class="icon-check text-30 text-white"></i>
                        }@else if(booking.status==="HOLD"){
                            <i class="icon-clock text-30 text-white"></i>
                        }@else if(booking.status==="CANCELED"){
                            <i class="icon-access-denied text-30 text-white"></i>
                        }
                    </div>
                    @if(booking.status==="CONFIRMED"){
                        <div class="text-30 lh-1 fw-600 mt-20">{{booking.contact!.name}}, ¡Tu reservación está confirmada!</div>
                        <div class="text-15 text-light-1 mt-10">Gracias por elegirnos para tu próximo viaje. A continuación, encontrarás los detalles de tu reservación.</div>
                    } @else if (booking.status==="HOLD"){
                        <div class="text-30 lh-1 fw-600 mt-20">Reservación En Espera</div>
                        @if(booking.activePayment!.type === "efectivo"){
                            <div class="text-15 text-light-1 mt-10">Recuerda que tu pago debe realizarse en efectivo para confirmar la reservación. Te sugerimos acudir a nuestras oficinas o un centro autorizado.</div>
                        } @else if(booking.activePayment!.type === "spei"){
                            <div class="text-15 text-light-1 mt-10">Para confirmar tu reservación, realiza una transferencia SPEI. Una vez recibamos el pago, tu reservación será confirmada.</div>
                        } @else if(booking.activePayment!.type === "tarjeta"){
                            <div class="text-15 text-light-1 mt-10">Estamos procesando el pago con tarjeta. Te notificaremos una vez se confirme el cargo y la reservación.</div>
                        } @else if(booking.activePayment!.type === "tarjeta-declinada"){
                            <div class="text-15 text-light-1 mt-10">Tu pago con tarjeta fue declinado. Por favor, intenta con otro método de pago para confirmar la reservación.</div>
                        }
                    
                    } @else if (booking.status==="CANCELED"){
                        <div class="text-30 lh-1 fw-600 mt-20">{{booking.contact!.name}}, Tu reservación ha sido cancelada</div>
                        @if(booking.activePayment!.type === "efectivo"){
                            <div class="text-15 text-light-1 mt-10">Tu reservación ha sido cancelada debido a la falta de pago en efectivo. Contáctanos si necesitas ayuda para reactivar tu reservación.</div>
                        } @else if(booking.activePayment!.type === "spei"){
                            <div class="text-15 text-light-1 mt-10">Tu reservación ha sido cancelada porque no se recibió la transferencia SPEI a tiempo. Por favor, contáctanos para más información.</div>
                        } @else if(booking.activePayment!.type === "tarjeta"){
                            <div class="text-15 text-light-1 mt-10">Tu reservación ha sido cancelada debido a un problema con el pago con tarjeta. Contáctanos si deseas intentar nuevamente.</div>
                        } @else if(booking.activePayment!.type === "tarjeta-declinada"){
                            <div class="text-15 text-light-1 mt-10">Tu reservación ha sido cancelada porque el pago con tarjeta fue declinado. Por favor, utiliza otro método de pago o contáctanos para más opciones.</div>
                        }
                    }                    
                </div>
                <div class="border-type-1 rounded-8 px-50 py-35 mt-40">
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="text-15 lh-12">Localizador</div>
                            <div class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">{{booking.created.toString().slice(-8)}}</div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="text-15 lh-12">Estatus</div>
                            <div class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">Confirmada</div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="text-15 lh-12">Total</div>
                            <div class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">{{total|currency:'MXN'}}</div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="text-15 lh-12">Metodo de Pago</div>
                            @switch(booking.activePayment!.type) {
                                @case ("efectivo") {
                                    <div 
                                        style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"
                                        class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">
                                            Efectivo <small>({{booking.activePayment!.office|titlecase}})</small>
                                    </div>
                                }
                                @case ("spei") {
                                    <div 
                                        style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"
                                        class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">
                                            Transferencia Interbancaria
                                    </div>
                                }
                                @case ("tarjeta") {
                                    <div 
                                        style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"
                                        class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">
                                            Tarjeta
                                    </div>
                                }
                                @case ("tarjeta-declinada") {
                                    <div 
                                        style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"
                                        class="text-15 lh-12 fw-500 text-blue-1 mt-10 sm:mt-0 sm:mb-10">
                                            Tarjeta (declinada)
                                    </div>
                                }
                            }
                        </div>
                    </div>
                </div>
                <div class="border-light rounded-8 px-50 py-40 mt-40">
                    <h4 class="text-20 fw-500 mb-30">Tu reservación</h4>
                    <div class="row y-gap-10">
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                            <div class="text-15 lh-16">Clave de confirmación:</div>
                            <div class="text-15 lh-16 fw-500 text-blue-1">{{pnr}}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                            <div class="text-15 lh-16">Titular:</div>
                            <div class="text-15 lh-16 fw-500 text-blue-1">{{booking.contact!.name}} {{booking.contact!.lastname}}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                            <div class="text-15 lh-16">Servicio:</div>
                            <div class="text-15 lh-16 fw-500 text-blue-1">Transportación Aérea</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-light rounded-8 px-50 py-40 mt-40">
                    <h4 class="text-20 fw-500 mb-30">Pasajeros</h4>
                    <div class="row y-gap-10">
                        @for(passenger of booking.passengersData; track passenger){
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                                    <div class="text-15 lh-16">{{passenger.name}} {{passenger.lastname}}</div>
                                    <div class="text-15 lh-16 fw-500 text-blue-1">
                                        @switch(passenger.type){
                                            @case("ADULT"){
                                                Adulto
                                            }
                                            @case("CHILDREN"){
                                                Menor
                                            }
                                            @case("INFANT"){
                                                Infante
                                            }
                                        }
                                    </div>
                            </div>
                        </div>
                        }
                    </div>
                </div>
                <div class="border-light rounded-8 px-50 py-40 mt-40">
                    <h4 class="text-20 fw-500 mb-30">Información de pago</h4>
                    <div class="row y-gap-10">
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                                <div class="text-15 lh-16">Metodo de pago:</div>
                                <div class="text-15 lh-16 fw-500 text-blue-1">
                                    @switch(booking.activePayment!.type) {
                                        @case ("efectivo") {Efectivo}
                                        @case ("spei") {Transferencia SPEI}
                                        @case ("tarjeta") {Tarjeta}
                                        @case ("tarjeta-declinada"){Tarjeta}
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                                <div class="text-15 lh-16">Estatus del pago:</div>
                                <div class="text-15 lh-16 fw-500 text-blue-1">
                                    @if(booking.status==="CONFIRMED"){
                                        Completado
                                    }@else if(booking.status==="HOLD"){
                                        @if(booking.activePayment!.type==='tarjeta'||booking.activePayment!.type==='tarjeta-declinada'){
                                            Declinado
                                        }@else{
                                            Pendiente
                                        }
                                    }@else{
                                        Cancelado
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                                <div class="text-15 lh-16">Total a pagar:</div>
                                <div class="text-15 lh-16 fw-500 text-blue-1">{{booking.activePayment!.amount|currency:'MXN'}}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                                <div class="text-15 lh-16">Total pagado:</div>
                                <div class="text-15 lh-16 fw-500 text-blue-1">{{booking.activePayment!.amount-booking.activePayment!.totalDue|currency:'MXN'}}</div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex justify-between border-top-light pt-10">
                                <div class="text-15 lh-16">Saldo pendiente:</div>
                                <div class="text-15 lh-16 fw-500 text-blue-1">{{booking.activePayment!.totalDue|currency:'MXN'}}</div>
                            </div>
                        </div>
                        @if(booking.status==="HOLD"&&booking.activePayment!.totalDue>0){
                            <div class="col-12" style="display: flex; justify-content: flex-end;">
                                <button class="button -md -blue-1 bg-dark-3 text-white">Completar Pago</button>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="col-xl-5 col-lg-4 pt-20">
                @if(booking!==undefined){
                    <app-confirmation-sidebar [booking]="booking"></app-confirmation-sidebar>
                }
            </div>
        </div>
    </div>
}