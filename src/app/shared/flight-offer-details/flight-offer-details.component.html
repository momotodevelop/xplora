<div style="height: 50px; border-bottom: 1px solid #dddddd; padding: 8px 16px;">
    <div class="text-20 fw-500 mb-0 d-inline-block">Detalles del Itinerario</div>
    <button (click)="close()" type="button" class="btn-close" aria-label="Close" style="margin-top: 5px; float: right;"></button>
</div>
<div style="max-height: calc(80vh - 120px); position: relative; padding: 0px 16px 20px 16px;" [class.hide-scroll]="loading" [class.scrollable]="!loading">
    @if(loading){
        <div class="d-flex justify-content-center" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; background-color: rgba(255, 255, 255, 1);">
            <div class="spinner-grow text-primary" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
        </div>
    }
    @for(segment of data.offer.itineraries[0].segments; track segment;){
        <div class="border-light rounded-4 mt-20">
            <div class="py-20 px-30">
                <div class="row justify-between items-center">
                    <div class="col-auto">
                        <div class="fw-500 text-dark-1">{{segment.departure.iataCode}} â€¢ {{segment.arrival.iataCode}}, {{segment.departure.at|dateString:'dd MMM YYYY'|titlecase}}</div>
                    </div>
                    <div class="col-auto">
                        <div class="text-14 text-light-1">4h 05m</div>
                    </div>
                </div>
            </div>
            <div class="py-30 px-30 border-top-light">
                <div class="row y-gap-10 justify-between">
                    <div class="col-auto">
                        <div class="d-flex items-center mb-15">
                            <div class="w-28 d-flex justify-center mr-15">
                                <img [src]="'https://assets.duffel.com/img/airlines/for-light-background/full-color-logo/'+(segment.carrierCode)+'.svg'" [alt]="carrierDefinition(segment.carrierCode)|titlecase">
                            </div>
                            <div class="text-14 text-light-1">{{carrierDefinition(segment.carrierCode)|titlecase}}</div>
                        </div>
                        <div class="z-0 scroll-relative">
                            <div class="border-line-2" style="top: 18px;bottom: 18px;"></div>
                            <div class="d-flex items-center">
                                <div class="w-28 d-flex justify-center mr-15">
                                    <div class="size-10 border-light rounded-full bg-white"></div>
                                </div>
                                <div class="row">
                                    <div class="col-auto w-100">
                                        <div class="lh-14 fw-500">{{segment.departure.at|dateString:'HH:mm'}}</div>
                                    </div>
                                    <div class="col-auto w-100">
                                        @if(getLocationInfo(segment.departure.iataCode)!==undefined){
                                            <div class="lh-14 fw-500">{{getLocationInfo(segment.departure.iataCode).address.cityName|titlecase}} ({{segment.departure.iataCode}})</div>
                                        }
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex items-center mt-15">
                                <div class="w-28 d-flex justify-center mr-15">
                                    <img src="assets/img/flights/plane.svg" alt="image">
                                </div>
                                <div class="text-14 text-light-1">{{segment.duration|duration}}</div>
                            </div>
                            <div class="d-flex items-center mt-15">
                                <div class="w-28 d-flex justify-center mr-15">
                                    <div class="size-10 border-light rounded-full bg-border"></div>
                                </div>
                                <div class="row">
                                    <div class="col-auto w-100">
                                        <div class="lh-14 fw-500">{{segment.arrival.at|dateString:'HH:mm'}}</div>
                                    </div>
                                    <div class="col-auto w-100">
                                        @if(getLocationInfo(segment.arrival.iataCode)!==undefined){
                                            <div class="lh-14 fw-500">{{getLocationInfo(segment.arrival.iataCode).address.cityName|titlecase}} ({{segment.arrival.iataCode}})</div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-auto text-right md:text-left">
                        <div class="text-14 text-light-1">{{getFareInfoBySegment(segment.id).cabin|flightClassName}}</div>
                        <div class="text-14 mt-15 md:mt-5">
                            {{aircraftDefinition(segment.aircraft.code)|titlecase}}<br>
                            Incl. 1 pieza de equipaje de mano<br>
                            {{createCheckedBagsText(segment.id)}}<br>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
<div style="height: 70px;border-top: 1px solid #dddddd;padding: 8px 16px;display: flex;justify-content: space-between;">
    <div>
        <div class="text-20 fw-500 mb-0" style="height: 25px;">{{data.offer.price.grandTotal|currency:data.offer.price.currency}}</div>
        <div class="text-16 fw-200 text-light-1">T.U.A. e I.V.A. Incluido</div>
    </div>
    <div>
        <button class="button -md -blue-1 bg-dark-3 text-white">Seleccionar</button>
    </div>
</div>